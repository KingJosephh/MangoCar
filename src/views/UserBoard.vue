<template>
    <div>
      <NavBar></NavBar>
      <!-- <section>
        <div class="bg-img-size mb-5" :style="{ backgroundImage: `url(${require('@/assets/car-img/f-page3.jpg')})`, height: '650px' }">
            <div class="position-absolute text-center text-secondary" style="top: 50%; left: 15%; transform: translate(-25%, -50%); text-align: center;">
                <div class="position-absolute top-50 start-50 translate-middle">
                <p class="display-1 fw-bold text-secondary">èŠ’æœ åœ‹éš›</p>
                <hr class="mb-1 mx-n3 text-secondary">
                <p class="h4 mt-3 text-center fw-bold text-fire">è‹±é›„å¯ä»¥æ²’æœ‰å®¶</p>
                <p class="h4 mt-3 text-center fw-bold text-fire">ä½†æ˜¯ä¸èƒ½æ²’æœ‰æˆ°é¦¬</p>
            </div>
        </div>
    </section> -->
    <swiper
    :style="{
      '--swiper-navigation-color': '#fff',
      '--swiper-pagination-color': '#fff',
    }"
    :speed="600"
    :parallax="true"
    :pagination="{ clickable: true }"
    :navigation="true"
    :modules="modules"
    class="mySwiper mb-5"
  >
    <template #container-start>
      <div
        class="parallax-bg"
        :style="{ backgroundImage: `url(${require('@/assets/car-img/f-page3.jpg')})`}"
        data-swiper-parallax="-23%"
      ></div>
    </template>

    <swiper-slide>
      <div class="title" data-swiper-parallax="-300"></div>
      <div class="subtitle" data-swiper-parallax="-200"></div>
      <div class="text position-absolute top-50 start-50 translate-middle" data-swiper-parallax="-100">
                <p class="display-1 fw-bold text-secondary">èŠ’æœ åœ‹éš›</p>
                <hr class="mb-1 mx-n3 text-secondary">
                <p class="h4 mt-3 text-center fw-bold text-fire">è‹±é›„å¯ä»¥æ²’æœ‰å®¶</p>
                <p class="h4 mt-3 text-center fw-bold text-fire">ä½†æ˜¯ä¸èƒ½æ²’æœ‰æˆ°é¦¬</p>
      </div>
    </swiper-slide>

    <swiper-slide>
      <div class="title fw-bold" data-swiper-parallax="-300">èŠ’æœåœ‹éš›é”€å”®æœåŠ¡</div>
      <div class="subtitle fw-bold mb-3" data-swiper-parallax="-200">æˆ‘ä»¬çš„æœåŠ¡ç‰¹ç‚¹</div>
      <div class="text" data-swiper-parallax="-100">
        <p>ğŸŒŸå¤šæ¬¾è®¤è¯äºŒæ‰‹è½¦ï¼Œå“è´¨ä¿è¯</p>
          <p>ğŸ’° å¼¹æ€§è´·æ¬¾è®¡åˆ’ï¼Œè®©æ‚¨è½»æ¾æ‹¥æœ‰å¿ƒä»ªåº§é©¾</p>
            <p>ğŸš— å…¨æ–¹ä½è½¦è¾†æ£€æµ‹ï¼Œç¡®ä¿æ‚¨çš„å®‰å…¨é©¾é©¶</p>
              <p>ğŸ“ˆ äº¤æ˜“é€æ˜ï¼Œæ— éšè´¹ç”¨ï¼Œç»å¯¹ä¿¡ä»»</p>
                <p>ğŸ é™æ—¶ç‰¹æƒ ï¼šè´­è½¦å³äº«å¤šé¡¹ç¦åˆ©ï¼</p>
                  <p>ğŸ“ é¢„çº¦è¯•é©¾è¯·è‡´ç”µï¼š123-456-7890</p>
                    <p>ğŸ“ åœ°å€ï¼šèŠ’æœå›½é™…æ±½è½¦å¹¿åœºï¼ŒæœŸå¾…ä¸ºæ‚¨æœåŠ¡ï¼</p>
      </div>
    </swiper-slide>

    <swiper-slide>
      <div class="title fw-bold" data-swiper-parallax="-300">èŠ’æœåœ‹éš› x æµæµªåŠ¨ç‰©é—œæ‡·é¡¹ç›®</div>
      <div class="subtitle fw-bold mb-3" data-swiper-parallax="-200">âœ¨ ç‚ºæ‚¨çš„è³¼è»Šè³¦äºˆæ›´å¤šæ„ç¾©</div>
      <div class="text" data-swiper-parallax="-100">
        <p>ğŸ¡ æ”¶å…»ä¸€è¾†è½¦ï¼Œæˆ‘ä»¬å°†æèµ ç»™æµæµªåŠ¨ç‰©å…³æ€€é¡¹ç›®</p>
        <p>ğŸŒˆ ä¸€éƒ¨åˆ†é”€å”®é¢å°†ç”¨äºæµæµªåŠ¨ç‰©åŒ»ç–—å’Œåº‡æŠ¤æ‰€æ”¯æŒ</p>
        <p>ğŸ æ¯ä¸€ä½è´­è½¦é¡¾å®¢å°†è·å¾—ä¸€ä»½æµæµªåŠ¨ç‰©å…³æ€€æèµ è¯ä¹¦</p>
      </div>
    </swiper-slide>
  </swiper>
    <section class="mb-5">
        <div class="row d-flex justify-content-center m-0">
            <div class="col-lg-10 p-0">
                <div class="row d-flex flex-row-reverse justify-content-center m-0 row-cols-1 row-cols-lg-2">
                    <div class="col d-flex flex-column justify-content-center">
                        <h2 class="fw-bold mb-4 animate__animated animate__shakeY animate__infinite">æ‚¨å‡ºéŒ¢ æˆ‘å‡ºåŠ› ä¸€èµ·åŠ©æµªæµª</h2>
                        <h4 class="mb-3 fw-bold d-flex"><i class="bi bi-car-front-fill mx-3 text-fire"></i><p>ç·šä¸Šå¡«å¯«è¡¨å–®å³å¯é ç´„çœ‹è»Š</p></h4>
                        <h4 class="mb-3 fw-bold d-flex"><i class="bi bi-car-front-fill mx-3 text-fire"></i><p>å¡«å¯«è¡¨å–®å°ˆäººåˆ°åºœä¼°è»Š</p></h4>
                        <h4 class="mb-3 fw-bold d-flex"><i class="bi bi-car-front-fill mx-3 text-fire"></i><p>åƒ¹æ ¼å…¬é“é€æ˜</p></h4>
                        <h4 class="mb-5 fw-bold d-flex"><i class="bi bi-car-front-fill mx-3 text-fire"></i><p>æ¯å°è»Šç²åˆ©æå‡º30%çµ¦æµæµªå‹•ç‰©åŸºé‡‘æœƒ</p></h4>
                        <button type="button" class="btn btn-outline-fire mb-lg-0 mb-4 mx-auto fw-bold" @click.prevent="toIntroduce">è©³ç´°æœå‹™ä»‹ç´¹</button>
                    </div>
                    <div class="col">
                        <img class="garage-size" src="../assets/car-img/car-garage.jpg" alt="è»Šåº«åœ–">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container mb-5">
            <div class="d-flex justify-content-center pb-5">
                <img src="../assets/car-img/title2.png" alt="è¿‘æœŸå¥½è»Š">
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="row g-4 m-0 row-cols-lg-4 row-cols-2 px-lg-0 px-4">
                        <div class="col" v-for="(item, index) in topFive" :key="index">
                            <div class="card border-0 text-white show-card-detail">
                              <router-link :to="{name:'page6', params:{carListId:item.id}}" @click="getCarDetail(item.id)">
                                <img class="card-img car-model rounded-4" :src="`${item.imgUrl}`" alt="s63">
                                <div class="card-img-overlay d-flex flex-column justify-content-end">
                                    <p class="c2 fw-bold mb-0 text-white">è»Šç¨®</p>
                                    <p class="c2 text-nowrap m-0 title text-white">{{ item.carName }}</p>
                                    <div class="c2 d-flex justify-content-between">
                                      <div class="c2 d-flex justify-content-between">
                                        <i class="bi bi-fire text-fire me-2"></i>
                                        <p class="m-0 text-white animate__animated animate__heartBeat animate__infinite">{{ item.fire }}</p>
                                      </div>
                                      <p class="m-0 text-white">è² è²¬äºº: {{ item.salesManager.name }}</p>
                                    </div>
                                    <div class="c1 card-img-overlay gradient car-model rounded-4">
                                      <div class="d-flex justify-content-center h-100">
                                        <p class="d-flex align-items-center h5 text-white fw-bold">é»æˆ‘</p>
                                      </div>
                                    </div>
                                </div>
                              </router-link>
                            </div>
                        </div>
                        <!-- <div class="col">
                            <div class="card border-0 text-white show-card-detail">
                                <img class="card-img car-model rounded-4" src="../assets/car-img/911turbo.jpg" alt="911turbo">
                                <div class="card-img-overlay d-flex flex-column justify-content-end">
                                    <p class="c2 fw-bold mb-0">è»Šç¨®</p>
                                    <p class="c2 text-nowrap m-0 title">porsche-911 turbo S</p>
                                    <div class="c1 card-img-overlay gradient car-model rounded-4  ">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card border-0 text-white show-card-detail">
                                <img class="card-img car-model rounded-4" src="../assets/car-img/x6.jpg" alt="x6">
                                <div class="card-img-overlay d-flex flex-column justify-content-end">
                                    <p class="c2 fw-bold mb-0">è»Šç¨®</p>
                                    <p class="c2 text-nowrap m-0 title">BMW X6</p>
                                    <div class="c1 card-img-overlay gradient car-model rounded-4">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card border-0 text-white show-card-detail">
                                <img class="card-img car-model rounded-4" src="../assets/car-img/r4.jpg" alt="r4">
                                <div class="card-img-overlay d-flex flex-column justify-content-end">
                                    <p class="c2 fw-bold mb-0">è»Šç¨®</p>
                                    <p class="c2 text-nowrap m-0 title">toyota Corolla Cross</p>
                                    <div class="c1 card-img-overlay gradient car-model rounded-4  ">
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <hot-swiper ref="hotSwiper" :topFiveEarlyProp="topFiveEarly"></hot-swiper>
    <section class="">
        <div class="d-flex justify-content-center">
            <img src="../assets/car-img/title1.png" alt="ç†±é–€è»Šæ¬¾">
        </div>
        <p class="text-center mb-6">é€™è£¡æ˜¯åœ¨é‚„åœ¨ç­‰å®¶çš„æµªæµªå€‘ï¼Œè‹¥æ‚¨æ­£å·§åœ¨æ‰¾å€‹å®¶äººï¼Œä¸è¨ªä¾†èªè­˜ä¸€ä¸‹å”„</p>
        <div class="row px-lg-6 m-0 d-flex justify-content-center">
            <div class="col-lg-12">
                <div class="row m-0 row-cols-lg-3 row-cols-1 gy-3 px-4">
                    <!-- <div class="col bg-transparent px-4">
                        <div class="card border-0 hover-shadow-lg img-opacity rounded-4 h-100">
                            <router-link to="/page6" class="card-link d-block h-100 link-unstyled text-reset text-decoration-none position-relative">
                                <div class="card-header p-0">
                                    <img class="rounded-top-4" src="../assets/car-img/mercedes.jpg" alt="mercedes logo">
                                    <div class="car-bg-img" :style="{backgroundImage: `url(${require('@/assets/car-img/gt43.jpg')})`}"></div>
                                </div>
                                <div class="card-body">
                                    <div class="p-2">
                                        <h5 class="fw-bold mb-3">2019å¹´ BENZ GT43</h5>
                                        <p class="mb-1">2019å¹´ | 4.2è¬km | CC</p>
                                        <p class="mb-1">è² è²¬äºº: Ama</p>
                                        <h5 class="fw-bold mb-5">NT$458.3è¬å…ƒ</h5>
                                    </div>
                                </div>
                                <div class="card-footer bg-white text-center border-0 rounded-4 position-absolute bottom-0 w-100">
                                    <hr class="text-fire mx-5">
                                    <button class="kalma border-0 bg-transparent">MORE</button>
                                </div>
                            </router-link>
                        </div>
                    </div>
                    <div class="col bg-transparent px-4">
                        <div class="card border-0 hover-shadow-lg img-opacity rounded-4 h-100">
                            <router-link to="/page6" class="card-link d-block h-100 link-unstyled text-reset text-decoration-none position-relative">
                                <div class="card-header p-0">
                                    <img class="rounded-top-4" src="../assets/car-img/bmw.jpg" alt="bmw logo">
                                    <div class="car-bg-img" :style="{backgroundImage: `url(${require('@/assets/car-img/m4.jpg')})`}"></div>
                                </div>
                                <div class="card-body">
                                    <div class="p-2">
                                        <h5 class="fw-bold">BMW-M4</h5>
                                        <p class="pb-5">å…¨æ–°ä¸–ä»£BMW M4å¼·çœ¼è¨­è¨ˆçš„ç„¡é‚Šæ¡†é›™è…å‹é€²æ°£æ ¼æŸµï¼Œç‡Ÿé€ å¼·çƒˆçš„è¦–è¦ºè¡æ“ŠåŠ›ï¼Œè€Œç°¡æ½”çš„è»Šèº«ç·šæ¢å‹¾å‹’å‡ºéˆå‹•çš„è¼ªå»“ï¼Œåœ¨ä¸ç¶“æ„é–“ï¼Œè¿¸ç™¼å¼·å‹¢æœ¬è‰²ï¼Œä½µç™¼æ›´å¤šå°é€Ÿåº¦çš„æ¸´æœ›ï¼</p>
                                    </div>
                                </div>
                                <div class="card-footer bg-white text-center border-0 rounded-4 position-absolute bottom-0 w-100">
                                    <hr class="text-fire mx-5">
                                    <button class="kalma border-0 bg-transparent">MORE</button>
                                </div>
                            </router-link>
                        </div>
                    </div>
                    <div class="col bg-transparent px-4">
                        <div class="card border-0 hover-shadow-lg img-opacity rounded-4 h-100">
                            <router-link to="/page6" class="card-link d-block h-100 link-unstyled text-reset text-decoration-none position-relative">
                                <div class="card-header p-0">
                                    <img class="rounded-top-4" src="../assets/car-img/porshe.jpg" alt="porsche logo">
                                    <div class="car-bg-img" :style="{backgroundImage: `url(${require('@/assets/car-img/911turbo.jpg')})`}"></div>
                                </div>
                                <div class="card-body">
                                    <div class="p-2">
                                        <h5 class="fw-bold">Porsche-911</h5>
                                        <P class="mb-5">æˆ‘å€‘çš„å·¥ç¨‹å¸«å€‘éå¸¸å–œæ­¡å°‡ 911 Turbo ç¨±ç‚ºæœ€å®Œç¾çš„è·‘è»Šã€‚å…·å‚™æ¥µç«¯çš„è·‘è»Šæ€§èƒ½å»åŒæ™‚éå¸¸èˆ’é©ï¼Œä¸”èƒ½å¤ ç„¡é™åˆ¶è€Œå®Œç¾åœ°æŒæ¡æ—¥å¸¸ç”Ÿæ´»æ‰€éœ€ã€‚911 Turbo ç³»åˆ—æŒçºŒè²«å¾¹è‡ªå·±çš„é“è·¯ã€‚
                                        </P>
                                    </div>
                                </div>
                                <div class="card-footer bg-white text-center border-0 rounded-4 position-absolute bottom-0 w-100">
                                    <hr class="text-fire mx-5">
                                    <button class="kalma border-0 bg-transparent">MORE</button>
                                </div>
                            </router-link>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </section>
    <div class="d-flex justify-content-center mt-5 mb-6">
        <router-link to="/page5">
            <button class="btn btn-fire text-white fw-bold"><p class="m-0 px-5">è§€çœ‹æ›´å¤šåé§•</p></button>
        </router-link>
    </div>
        <Footer></Footer>
    </div>
</template>

<script>
import NavBar from '@/components/CarNavBar.vue'
import Footer from '@/components/FooterPage.vue'
import { Swiper, SwiperSlide } from 'swiper/vue'
import 'swiper/css'
import 'swiper/css/free-mode'
import 'swiper/css/pagination'
import 'swiper/css/navigation'
import '../assets/components/style1.css'
import HotSwiper from '@/components/HotSwiper.vue'

// import required modules
import { Parallax, Pagination, Navigation, FreeMode } from 'swiper/modules'
export default {
  components: {
    NavBar,
    Footer,
    Swiper,
    SwiperSlide,
    HotSwiper
  },
  data () {
    return {
      carLis: [],
      topFive: [],
      topFiveEarly: []
    }
  },
  methods: {
    getCarData () {
      const api = 'http://localhost:3000'
      this.$http.get(api + '/car?_expand=salesManager')
        .then((res) => {
          console.log(res)
          this.carLis = res.data
          this.getTopFive()
          this.getEarlyOne()
        })
        .catch((err) => {
          console.log(err)
        })
    },
    getTopFive () {
      this.carLis.sort((a, b) => parseFloat(b.fire) - parseFloat(a.fire))
      const getFive = this.carLis.slice(0, 4)
      this.topFive = getFive
    },
    toIntroduce () {
      console.log(this.$router)
      this.$router.push('/page2')
    },
    getEarlyOne () {
      const carsWithDateObjects = this.carLis.map(car => ({ ...car, date: new Date(car.date) })).sort((a, b) => b.date - a.date)
      const getFiveDate = carsWithDateObjects.slice(0, 5)
      this.topFiveEarly = getFiveDate
    },
    getCarDetail (aa) {
      this.$emit('carListId', aa)
    }
  },
  created () {
    this.getCarData()
  },
  mounted () {
    window.scrollTo(0, 0)
  },
  setup () {
    return {
      modules: [Parallax, Pagination, Navigation, FreeMode]
    }
  },
  scoped: true,
  styles: `#app { height: 100% }
html,
body {
  position: relative;
  height: 100%;
}

body {
  background: #eee;
  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 14px;
  color: #000;
  margin: 0;
  padding: 0;
}

.swiper {
  width: 100%;
  height: 650px;
  background: #000;
}

.swiper-slide {
  font-size: 18px;
  color: #fff;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  padding: 40px 60px;
}

.parallax-bg {
  position: absolute;
  left: 0;
  top: 0;
  width: 130%;
  height: 100%;
  -webkit-background-size: cover;
  background-size: cover;
  background-position: center;
}

.swiper-slide .title {
  font-size: 41px;
  font-weight: 300;
}

.swiper-slide .subtitle {
  font-size: 21px;
}

.swiper-slide .text {
  font-size: 14px;
  max-width: 400px;
  line-height: 1.3;
}`
}
</script>

<style>
#app { height: 100% }
html,
body {
  position: relative;
  height: 100%;
}

body {
  background: #eee;
  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 14px;
  color: #000;
  margin: 0;
  padding: 0;
}

.swiper {
  width: 100%;
  height: 650px;
  background: #eee;
}

.swiper-slide {
  font-size: 18px;
  color: #fff;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  padding: 40px 60px;
}

.parallax-bg {
  position: absolute;
  left: 0;
  top: 0;
  width: 130%;
  height: 100%;
  -webkit-background-size: cover;
  background-size: cover;
  background-position: center;
}

.swiper-slide .title {
  font-size: 41px;
  font-weight: 300;
}

.swiper-slide .subtitle {
  font-size: 21px;
}

.swiper-slide .text {
  font-size: 14px;
  max-width: 400px;
  line-height: 1.3;
}

</style>
