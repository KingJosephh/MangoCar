"use strict";(self["webpackChunksecond_hand_car"]=self["webpackChunksecond_hand_car"]||[]).push([[180],{902:function(e,l,o){o.d(l,{Z:function(){return w}});var t=o(6252),a=o(3577),i=o(904);const n={class:"sticky-top"},s={class:"navbar navbar-expand-lg bg-body-tertiary py-3"},d={class:"container-fluid"},r=(0,t.uE)('<div class="container-fluid d-flex justify-content-between pe-4 flex-row-reverse-logo"><a class="navbar-brand" href="#"><img src="'+i+'" alt="" style="height:40px;"></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button></div>',1),c={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},p={class:"navbar-nav"},u={class:"mb-0 ms-lg-0 ms-3",ref:"pageBB"},m={class:"mb-0 ms-lg-0 ms-3",ref:"pageCC"};function f(e,l,o,i,f,b){const h=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("section",n,[(0,t._)("nav",s,[(0,t._)("div",d,[r,(0,t._)("div",c,[(0,t._)("div",p,[(0,t.Wm)(h,{to:"/backPage",class:(0,a.C_)(["nav-link text-start text-nowrap",{"text-fire":"產品列表"==o.pageTitle}])},{default:(0,t.w5)((()=>[(0,t._)("p",u,"產品列表",512)])),_:1},8,["class"]),(0,t.Wm)(h,{to:"/backReserve",class:(0,a.C_)(["nav-link text-start text-nowrap",{"text-fire":"預約系統"==o.pageTitle}])},{default:(0,t.w5)((()=>[(0,t._)("p",m,"預約系統",512)])),_:1},8,["class"])])])])])])}var b={props:["pageTitle"]},h=o(3744);const v=(0,h.Z)(b,[["render",f]]);var w=v},2068:function(e,l,o){o.d(l,{Z:function(){return _}});var t=o(6252),a=o(3577);const i={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"delCar"},n={class:"modal-dialog"},s={class:"modal-content"},d=(0,t._)("div",{class:"modal-header"},[(0,t._)("h5",{class:"modal-title",id:"exampleModalLabel"},"刪除資料"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),r={class:"modal-body"},c={class:"text-fire fw-bold"},p={class:"modal-footer"},u=(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function m(e,l,o,m,f,b){return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",n,[(0,t._)("div",s,[d,(0,t._)("div",r,[(0,t.Uk)(" 是否缺任刪除款式 [ "),(0,t._)("span",c,(0,a.zw)(o.delProduct.carName),1),(0,t.Uk)(" ] 的資料 ")]),(0,t._)("div",p,[u,(0,t._)("button",{type:"button",class:"btn btn-warning",onClick:l[0]||(l[0]=l=>e.$emit("del-item",o.delProduct))},"確認刪除")])])])],512)}var f=o(7424),b=o.n(f),h={props:{delProduct:{type:Object,default(){return{}}}},data(){return{modal:{}}},methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(b())(this.$refs.delCar)}},v=o(3744);const w=(0,v.Z)(h,[["render",m]]);var _=w},3180:function(e,l,o){o.r(l),o.d(l,{default:function(){return Sl}});var t=o(6252),a=o(3577),i=o(9963);const n={class:"container"},s={class:"text-end mt-3"},d={class:"table mt-4"},r=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{width:"100"},"車輛品牌"),(0,t._)("th",{width:"120"},"款式"),(0,t._)("th",{width:"120"},"年分"),(0,t._)("th",{width:"120"},"里程"),(0,t._)("th",{width:"120"},"乘坐及門數"),(0,t._)("th",{width:"120"},"動力形式"),(0,t._)("th",{width:"200"},"進場日期"),(0,t._)("th",{width:"100"},"狀態"),(0,t._)("th",{width:"100"},"點閱數"),(0,t._)("th",{width:"200"},"售價")])],-1),c={key:0},p={class:"text-right"},u={class:"text-right"},m={class:"btn-group d-flex flex-end"},f=["onClick"],b=["onClick"],h=["onClick"],v={key:1},w=(0,t._)("h2",{class:"text-center text-nowrap mt-5"},"找不到符合的車輛",-1),_=[w],g={"aria-label":"Page navigation example",class:"d-flex justify-content-center"},y={class:"pagination"},C=["onClick"];function M(e,l,o,w,M,x){const k=(0,t.up)("bgNavBar"),P=(0,t.up)("addModal"),D=(0,t.up)("delModal"),L=(0,t.up)("FilerModal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(k),(0,t._)("div",n,[(0,t._)("div",s,[(0,t._)("button",{type:"button",class:"btn btn-outline-fire fw-bold me-3",onClick:l[0]||(l[0]=(...e)=>x.openFilter&&x.openFilter(...e))},"篩選條件"),(0,t._)("button",{type:"button",class:"btn btn-fire fw-bold text-white",onClick:l[1]||(l[1]=e=>x.openModal(!0))},"新增產品")]),(0,t._)("table",d,[r,M.finalListAll.length>0?((0,t.wg)(),(0,t.iD)("tbody",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(x.getPageData,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("td",null,(0,a.zw)(e.brandId),1),(0,t._)("td",null,(0,a.zw)(e.carName),1),(0,t._)("td",null,(0,a.zw)(e.year),1),(0,t._)("td",null,(0,a.zw)(e.longJourney),1),(0,t._)("td",null,(0,a.zw)(e.doorPassenger),1),(0,t._)("td",null,(0,a.zw)(e.dye),1),(0,t._)("td",p,(0,a.zw)(e.date),1),(0,t._)("td",null,(0,a.zw)(e.state),1),(0,t._)("td",null,(0,a.zw)(e.fire),1),(0,t._)("td",u,(0,a.zw)(e.price),1),(0,t._)("td",null,[(0,t._)("div",m,[(0,t._)("button",{class:"btn btn-outline-fire btn-sm",onClick:l=>x.saleCar(e)},"出售",8,f),(0,t._)("button",{class:"btn btn-outline-green btn-sm",onClick:l=>x.openModal(!1,e)},"編輯",8,b),(0,t._)("button",{class:"btn btn-outline-danger btn-sm",onClick:l=>x.openDelModal(e)},"刪除",8,h)])])])))),128))])):((0,t.wg)(),(0,t.iD)("div",v,_))]),(0,t._)("nav",g,[(0,t._)("ul",y,[(0,t._)("li",{class:(0,a.C_)(["page-item",{disabled:1==M.currentPage}])},[(0,t._)("a",{class:"page-link border-0 text-fire",href:"#",onClick:l[2]||(l[2]=(0,i.iM)((e=>x.clickGotPage(M.currentPage-1)),["prevent"]))},"Previous")],2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(x.countPage,((e,l)=>((0,t.wg)(),(0,t.iD)("li",{class:(0,a.C_)(["page-item",{active:M.currentPage==e}]),key:l},[(0,t._)("a",{class:"page-link border-0 text-fire",href:"#",onClick:(0,i.iM)((l=>x.clickGotPage(e)),["prevent"])},(0,a.zw)(e),9,C)],2)))),128)),(0,t._)("li",{class:(0,a.C_)(["page-item",{disabled:M.currentPage==x.countPage}])},[(0,t._)("a",{class:"page-link border-0 text-fire",href:"#",onClick:l[3]||(l[3]=(0,i.iM)((e=>x.clickGotPage(M.currentPage+1)),["prevent"]))},"Next")],2)])])]),(0,t.Wm)(P,{ref:"addModal","car-product":M.addCondition,onUpdateCondition:x.updateModal},null,8,["car-product","onUpdateCondition"]),(0,t.Wm)(D,{ref:"delModal","del-product":M.delItem,onDelItem:x.delModal},null,8,["del-product","onDelItem"]),(0,t.Wm)(L,{ref:"filter",condition:M.filterCondition,onGetCondition:x.getCondition},null,8,["condition","onGetCondition"])],64)}o(560);const x={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"addCar"},k={class:"modal-dialog modal-dialog-scrollable"},P={class:"modal-content"},D=(0,t._)("div",{class:"modal-header"},[(0,t._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Modal title"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body"},U={class:"mb-4 row d-flex justify-content-between"},A=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"品牌:",-1),$={class:"col col-sm-10"},I=["value"],j={class:"mb-4 row d-flex justify-content-between"},V=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"款式:",-1),B={class:"col col-sm-10"},E={class:"mb-4 row d-flex justify-content-between"},z=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"年分:",-1),N={class:"col col-sm-10"},S={class:"mb-4 row d-flex justify-content-between"},F=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"里程:",-1),H={class:"col col-sm-10"},Z={class:"mb-4 row d-flex justify-content-between"},W=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"乘坐及門數:",-1),Y={class:"col col-sm-10"},G=(0,t.uE)('<option value="四門五座" selected>四門五座</option><option value="五門五座">五門五座</option><option value="五門七座">五門七座</option><option value="二門四座">二門四座</option><option value="二門二座">二門二座</option>',5),K=[G],T={class:"mb-4 row d-flex justify-content-between"},J=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"動力形式:",-1),O={class:"col col-sm-10"},R=(0,t._)("option",{value:"油電.cc",selected:""},"油電.cc",-1),q=(0,t._)("option",{value:"柴油電.cc"},"柴油電.cc",-1),Q=(0,t._)("option",{value:"汽油.c"},"汽油.cc",-1),X=(0,t._)("option",{value:"純電"},"純電",-1),ee=[R,q,Q,X],le={class:"mb-4 row d-flex justify-content-between"},oe=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"安全配備:",-1),te={class:"col"},ae={class:"row"},ie=["name","id","value","onUpdate:modelValue"],ne=["for"],se={class:"mb-4 row d-flex justify-content-between"},de=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"舒適配備:",-1),re={class:"col"},ce={class:"row"},pe=["name","id","value","onUpdate:modelValue"],ue=["for"],me={class:"mb-4 row d-flex justify-content-between"},fe=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"進場日期:",-1),be={class:"col col-sm-10"},he={class:"mb-4 row d-flex justify-content-between"},ve=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"售價:",-1),we={class:"col col-sm-10"},_e={class:"mb-4 row d-flex justify-content-between"},ge=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"負責人:",-1),ye={class:"col col-sm-10"},Ce=(0,t.uE)('<option value="M01">Ethan</option><option value="M02">Olivia</option><option value="M03">Liam</option><option value="M04">Emma</option><option value="M05">Noah</option><option value="M06">Ava</option>',6),Me=[Ce],xe={class:"mb-4 row d-flex justify-content-between"},ke=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"狀態:",-1),Pe={class:"col col-sm-10"},De=(0,t._)("option",{value:"出售"},"出售",-1),Le=(0,t._)("option",{value:"未出售"},"未出售",-1),Ue=[De,Le],Ae={class:"mb-3"},$e=["for"],Ie=["id","placeholder","onUpdate:modelValue"],je={class:"modal-footer"},Ve=(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function Be(e,l,o,n,s,d){return(0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("div",k,[(0,t._)("div",P,[D,(0,t._)("div",L,[(0,t._)("div",U,[A,(0,t._)("div",$,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[0]||(l[0]=e=>s.addCondition.brandId=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.brandList,((e,l)=>((0,t.wg)(),(0,t.iD)("option",{key:l,value:`${e.id}`},(0,a.zw)(e.brandName)+":"+(0,a.zw)(e.id),9,I)))),128))],512),[[i.bM,s.addCondition.brandId]])])]),(0,t._)("div",j,[V,(0,t._)("div",B,[(0,t.wy)((0,t._)("input",{class:"form-control","aria-label":"Default example","onUpdate:modelValue":l[1]||(l[1]=e=>s.addCondition.carName=e)},null,512),[[i.nr,s.addCondition.carName]])])]),(0,t._)("div",E,[z,(0,t._)("div",N,[(0,t.wy)((0,t._)("input",{class:"form-control",type:"number","aria-label":"Default example","onUpdate:modelValue":l[2]||(l[2]=e=>s.addCondition.year=e)},null,512),[[i.nr,s.addCondition.year]])])]),(0,t._)("div",S,[F,(0,t._)("div",H,[(0,t.wy)((0,t._)("input",{class:"form-control","aria-label":"Default example","onUpdate:modelValue":l[3]||(l[3]=e=>s.addCondition.longJourney=e),placeholder:"單位請輸入國字 例:11000請輸入[1.1萬]"},null,512),[[i.nr,s.addCondition.longJourney]])])]),(0,t._)("div",Z,[W,(0,t._)("div",Y,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[4]||(l[4]=e=>s.addCondition.doorPassenger=e)},K,512),[[i.bM,s.addCondition.doorPassenger]])])]),(0,t._)("div",T,[J,(0,t._)("div",O,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[5]||(l[5]=e=>s.addCondition.dye=e)},ee,512),[[i.bM,s.addCondition.dye]])])]),(0,t._)("div",le,[oe,(0,t._)("div",te,[(0,t._)("div",ae,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.provideList,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"col-4 form-check",key:l},[(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",name:e,id:e,value:e,"onUpdate:modelValue":l=>s.addCondition.provide[e]=l},null,8,ie),[[i.e8,s.addCondition.provide[e]]]),(0,t._)("label",{class:"form-check-label",for:e},(0,a.zw)(e),9,ne)])))),128))])])]),(0,t._)("div",se,[de,(0,t._)("div",re,[(0,t._)("div",ce,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.comfortProvide,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"col-4 form-check",key:l},[(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",name:e,id:e,value:e,"onUpdate:modelValue":l=>s.addCondition.comfortProvide[e]=l},null,8,pe),[[i.e8,s.addCondition.comfortProvide[e]]]),(0,t._)("label",{class:"form-check-label",for:e},(0,a.zw)(e),9,ue)])))),128))])])]),(0,t._)("div",me,[fe,(0,t._)("div",be,[(0,t.wy)((0,t._)("input",{class:"form-control",type:"date","aria-label":"Default example","onUpdate:modelValue":l[6]||(l[6]=e=>s.addCondition.date=e)},null,512),[[i.nr,s.addCondition.date]])])]),(0,t._)("div",he,[ve,(0,t._)("div",we,[(0,t.wy)((0,t._)("input",{class:"form-control","aria-label":"Default example","onUpdate:modelValue":l[7]||(l[7]=e=>s.addCondition.price=e),placeholder:"單位請輸入國字 例:11000請輸入[1.1萬]"},null,512),[[i.nr,s.addCondition.price]])])]),(0,t._)("div",_e,[ge,(0,t._)("div",ye,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[8]||(l[8]=e=>s.addCondition.salesManagerId=e)},Me,512),[[i.bM,s.addCondition.salesManagerId]])])]),(0,t._)("div",xe,[ke,(0,t._)("div",Pe,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[9]||(l[9]=e=>s.addCondition.state=e)},Ue,512),[[i.bM,s.addCondition.state]])])]),(0,t._)("div",Ae,[(0,t._)("button",{type:"button",class:"btn btn-fire fw-bold text-white",onClick:l[10]||(l[10]=(...e)=>d.addInput&&d.addInput(...e))},"新增欄位"),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.addCondition.imgUrl,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("label",{for:"image"+(l+1),class:"form-label me-4"},"輸入圖片網址",8,$e),(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"image"+(l+1),placeholder:"請輸入圖片連結 "+(l+1),"onUpdate:modelValue":e=>s.addCondition.imgUrl[l]=e},null,8,Ie),[[i.nr,s.addCondition.imgUrl[l]]])])))),128))])]),(0,t._)("div",je,[Ve,(0,t._)("button",{type:"button",class:"btn btn-fire",onClick:l[11]||(l[11]=l=>e.$emit("updateCondition",s.addCondition))},"儲存")])])])],512)}var Ee=o(7424),ze=o.n(Ee),Ne={props:{carProduct:{type:Object,default(){return{}}}},watch:{carProduct(){this.addCondition=this.carProduct}},data(){return{modal:{},addCondition:{imgUrl:[""],provide:{"胎壓偵測":!1,"防盜系統":!1,"循跡系統":!1,"煞車輔助系統":!1,"ABS防鎖死":!1,"動態穩定系統":!1,"keyless免鑰系統":!1,"中控鎖":!1,"兒童安全椅固定裝置":!1,"安全氣囊":!1},comfortProvide:{"定速系統":!1,"倒車顯影系統":!1,"多功能方向盤":!1,"恆溫空調":!1,"電動車窗":!1,"LED頭燈":!1,"衛星導航":!1,"倒車雷達":!1,"自動停車系統":!1,"真皮座椅":!1},fire:0},brandList:[],provideList:["胎壓偵測","防盜系統","循跡系統","煞車輔助系統","ABS防鎖死","動態穩定系統","keyless免鑰系統","中控鎖","兒童安全椅固定裝置","安全氣囊"],comfortProvide:["定速系統","倒車顯影系統","多功能方向盤","恆溫空調","電動車窗","LED頭燈","衛星導航","倒車雷達","自動停車系統","真皮座椅"]}},methods:{showModal(){this.Modal.show()},hideModal(){this.Modal.hide()},getBrand(){const e="http://localhost:3000";this.$http.get(e+"/brands").then((e=>{console.log(e),this.brandList=e.data})).catch((e=>{console.log(e)}))},addInput(){this.addCondition.imgUrl.push("")}},created(){this.getBrand()},mounted(){this.Modal=new(ze())(this.$refs.addCar)}},Se=o(3744);const Fe=(0,Se.Z)(Ne,[["render",Be]]);var He=Fe,Ze=o(2068),We=o(902);const Ye={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"filterModal"},Ge={class:"modal-dialog"},Ke={class:"modal-content"},Te=(0,t._)("div",{class:"modal-header"},[(0,t._)("h5",{class:"modal-title fw-bold text-fire",id:"exampleModalLabel"},"篩選條件"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Je={class:"modal-body"},Oe={class:"mb-4 row d-flex justify-content-between"},Re=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"品牌:",-1),qe={class:"col col-sm-10"},Qe=(0,t.uE)('<option value="all" selected>不限品牌</option><option value="B01">Toyota</option><option value="B02">Ford</option><option value="B03">Honda</option><option value="B04">Porsche</option><option value="B05">Volkswagen</option><option value="B06">BMW</option><option value="B07">Mercedes-Benz</option><option value="B08">Audi</option><option value="B09">Hyundai</option><option value="B010">Nissan</option>',11),Xe=[Qe],el={class:"mb-4 row d-flex justify-content-between"},ll=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"價格:",-1),ol={class:"col col-sm-10"},tl=(0,t.uE)('<option value="all" selected>不限價格</option><option value="50-">50萬以下</option><option value="50/100">50萬-100萬</option><option value="100/200">100萬-200萬</option><option value="200/300">200萬-300萬</option><option value="300/400">300萬-400萬</option><option value="400/500">400萬-500萬</option><option value="500+">500萬以上</option>',8),al=[tl],il={class:"mb-4 row d-flex justify-content-between"},nl=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"里程:",-1),sl={class:"col col-sm-10"},dl=(0,t._)("option",{value:"all",selected:""},"不限里程",-1),rl=(0,t._)("option",{value:"10000/50000"},"10000-50000km",-1),cl=(0,t._)("option",{value:"50000/100000"},"50000-100000km",-1),pl=(0,t._)("option",{value:"100000+"},"100000km+",-1),ul=[dl,rl,cl,pl],ml={class:"mb-4 row d-flex justify-content-between"},fl=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"年分:",-1),bl={class:"col col-sm-10"},hl=(0,t.uE)('<option value="all" selected>不限年分</option><option value="2010-">2010以下</option><option value="2010/2015">2010-2015</option><option value="2015/2020">2015-2020</option><option value="2020+">2020-now</option>',5),vl=[hl],wl={class:"mb-4 row d-flex justify-content-between"},_l=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"狀態:",-1),gl={class:"col col-sm-10"},yl=(0,t._)("option",{value:"sell",selected:""},"出售",-1),Cl=(0,t._)("option",{value:"unSell"},"未出售",-1),Ml=[yl,Cl],xl={class:"mb-4 row d-flex justify-content-between"},kl=(0,t._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label fw-bold"},"數量:",-1),Pl={class:"col col-sm-10"},Dl=(0,t._)("option",{value:"all",selected:""},"一頁顯示全部",-1),Ll=(0,t._)("option",{value:"10"},"一頁顯10台",-1),Ul=(0,t._)("option",{value:"20"},"一頁顯示20台",-1),Al=(0,t._)("option",{value:"30"},"一頁顯示30台",-1),$l=[Dl,Ll,Ul,Al],Il={class:"modal-footer"};function jl(e,l,o,a,n,s){return(0,t.wg)(),(0,t.iD)("div",Ye,[(0,t._)("div",Ge,[(0,t._)("div",Ke,[Te,(0,t._)("div",Je,[(0,t._)("div",Oe,[Re,(0,t._)("div",qe,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[0]||(l[0]=e=>n.filterCondition.brand=e)},Xe,512),[[i.bM,n.filterCondition.brand]])])]),(0,t._)("div",el,[ll,(0,t._)("div",ol,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[1]||(l[1]=e=>n.filterCondition.price=e)},al,512),[[i.bM,n.filterCondition.price]])])]),(0,t._)("div",il,[nl,(0,t._)("div",sl,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[2]||(l[2]=e=>n.filterCondition.km=e)},ul,512),[[i.bM,n.filterCondition.km]])])]),(0,t._)("div",ml,[fl,(0,t._)("div",bl,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[3]||(l[3]=e=>n.filterCondition.year=e)},vl,512),[[i.bM,n.filterCondition.year]])])]),(0,t._)("div",wl,[_l,(0,t._)("div",gl,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[4]||(l[4]=e=>n.filterCondition.onSell=e)},Ml,512),[[i.bM,n.filterCondition.onSell]])])]),(0,t._)("div",xl,[kl,(0,t._)("div",Pl,[(0,t.wy)((0,t._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[5]||(l[5]=e=>n.filterCondition.page=e)},$l,512),[[i.bM,n.filterCondition.page]])])]),(0,t._)("div",Il,[(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:l[6]||(l[6]=(...e)=>s.hideModal&&s.hideModal(...e))},"Close"),(0,t._)("button",{type:"button",class:"btn btn-fire text-white",onClick:l[7]||(l[7]=l=>e.$emit("get-condition",n.filterCondition))},"Save changes")])])])])],512)}var Vl={props:{condition:{type:Object,default(){return{}}}},watch:{condition(){this.filterCondition=this.condition}},data(){return{modal:{},filterCondition:{}}},methods:{showModal(){this.myModal.show()},hideModal(){this.myModal.hide()}},mounted(){this.myModal=new(ze())(this.$refs.filterModal)}};const Bl=(0,Se.Z)(Vl,[["render",jl]]);var El=Bl,zl={components:{addModal:He,delModal:Ze.Z,bgNavBar:We.Z,FilerModal:El},computed:{countPage(){return this.finalListAll.length>0?Math.ceil(this.finalListAll.length/this.perPage):0},getPageData(){return this.finalListAll.length>0?this.finalListAll.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage):[]}},data(){return{carList:[],finalListAll:[],filterCondition:{},addCondition:{imgUrl:[""],provide:{"胎壓偵測":!1,"防盜系統":!1,"循跡系統":!1,"煞車輔助系統":!1,"ABS防鎖死":!1,"動態穩定系統":!1,"keyless免鑰系統":!1,"中控鎖":!1,"兒童安全椅固定裝置":!1,"安全氣囊":!1},comfortProvide:{"定速系統":!1,"倒車顯影系統":!1,"多功能方向盤":!1,"恆溫空調":!1,"電動車窗":!1,"LED頭燈":!1,"衛星導航":!1,"倒車雷達":!1,"自動停車系統":!1,"真皮座椅":!1},fire:0},isNew:!0,delItem:{},perPage:10,currentPage:1}},methods:{getCarData(){const e="http://localhost:3000";this.$http.get(e+"/car?_expend=salesManager").then((e=>{this.carList=e.data,this.finalListAll=e.data})).catch((e=>{console.log(e)}))},openModal(e,l){!0===e?this.addCondition={imgUrl:[""],provide:{"胎壓偵測":!1,"防盜系統":!1,"循跡系統":!1,"煞車輔助系統":!1,"ABS防鎖死":!1,"動態穩定系統":!1,"keyless免鑰系統":!1,"中控鎖":!1,"兒童安全椅固定裝置":!1,"安全氣囊":!1},comfortProvide:{"定速系統":!1,"倒車顯影系統":!1,"多功能方向盤":!1,"恆溫空調":!1,"電動車窗":!1,"LED頭燈":!1,"衛星導航":!1,"倒車雷達":!1,"自動停車系統":!1,"真皮座椅":!1},fire:"0"}:!1===e&&(this.addCondition={...l}),this.isNew=e;const o=this.$refs.addModal;o.showModal()},updateModal(e){this.addCondition=e;const l=["brandId","carName","year","longJourney","doorPassenger","dye","date","price","imgUrl","salesManagerId","provide","comfortProvide"];let o=!1;if(l.forEach((e=>{void 0===this.addCondition[e]&&(o=!0)})),o)alert("資料不齊全");else{let l="https://mango-car-web-surver.onrender.com/car",o="post";this.isNew||(l=`https://mango-car-web-surver.onrender.com/car/${e.id}`,o="patch"),this.$http[o](l,this.addCondition).then((e=>{this.getCarData()})).catch((e=>{console.log(e)}))}const t=this.$refs.addModal;t.hideModal()},openDelModal(e){this.delItem=e;const l=this.$refs.delModal;l.showModal()},delModal(e){const l=`https://mango-car-web-surver.onrender.com/car/${e.id}`;this.$http.delete(l).then((e=>{this.getCarData()})).catch((e=>{console.log(e)}));const o=this.$refs.delModal;o.hideModal()},saleCar(e){const l=`https://mango-car-web-surver.onrender.com/car/${e.id}`;this.$http.patch(l,{state:"出售"}).then((e=>{this.getCarData()})).catch((e=>{console.log(e)}))},openFilter(){this.filterCondition={brand:"all",price:"all",km:"all",year:"all",onSell:"unSell",page:"all"};const e=this.$refs.filter;e.showModal()},getCondition(e){this.filterCondition=e,this.showList(this.filterCondition,this.carList);const l=this.$refs.filter;l.hideModal()},showList(e,l){console.log(e);const o=[],t=[],a=[],i=[];let n=[];if("all"===e.brand?(l.forEach((e=>{o.push(e)})),this.finalListAll=o):"all"!==e.brand&&(l.forEach((l=>{l.brandId===e.brand&&o.push(l)})),this.finalListAll=o),"all"===e.price?(o.forEach((e=>{t.push(e)})),this.finalListAll=t):"all"!==e.price&&(o.forEach((l=>{const o=l.price.match(/[\d.]+/),a=parseFloat(o[0]);if(e.price.match(/[\d]+-/)){const o=e.price.match(/[\d-]+/),i=parseFloat(o[0]);i>a&&t.push(l)}else if(e.price.match(/\d+\+$/)){const o=e.price.match(/\d+\+$/),i=parseFloat(o[0]);i<a&&t.push(l)}else if(e.price.match(/\d+\/\d+/)){const o=e.price.match(/(\d+)\/(\d+)/),i=parseInt(o[1]),n=parseInt(o[2]);a>i&&a<n&&t.push(l)}})),this.finalListAll=t),"all"===e.km?(t.forEach((e=>{a.push(e)})),this.finalListAll=a):"all"!==e.km&&(t.forEach((l=>{const o=l.longJourney.match(/[\d.]+/),t=1e4*parseFloat(o);if(e.km.match(/\d+\+$/)){const o=e.km.match(/(\d+)/),i=parseInt(o);i<t&&a.push(l)}else if(e.km.match(/\d+\/\d+/)){const o=e.km.match(/(\d+)\/(\d+)/),i=parseInt(o[1]),n=parseInt(o[2]);t>i&&t<n&&a.push(l)}})),this.finalListAll=a),"all"===e.year?(a.forEach((e=>{i.push(e)})),this.finalListAll=i):"all"!==e.year&&(a.forEach((l=>{const o=parseInt(l.year);if(e.year.match(/[\d]+-/)){const t=e.year.match(/[\d-]+/),a=parseInt(t);o<a&&i.push(l)}else if(e.year.match(/\d+\+$/)){const t=e.year.match(/[\d+]+/),a=parseInt(t[0]);o>a&&i.push(l)}else if(e.year.match(/\d+\/\d+/)){const t=e.year.match(/(\d+)\/(\d+)/),a=parseFloat(t[1]),n=parseFloat(t[2]);o>a&&o<n&&i.push(l)}})),this.finalListAll=i),"sell"===e.onSell){const e=i.filter((e=>"出售"===e.state));n=e,this.finalListAll=n}else if("unSell"===e.onSell){const e=i.filter((e=>"未出售"===e.state));n=e,this.finalListAll=n}"all"===e.page?this.perPage=this.finalListAll.length:"all"!==e.page&&(this.perPage=e.page),console.log(n)},firstShow(){this.finalListAll=this.carLis},clickGotPage(e){this.currentPage=e,window.scrollTo(0,0)}},created(){this.getCarData()}};const Nl=(0,Se.Z)(zl,[["render",M]]);var Sl=Nl}}]);
//# sourceMappingURL=180.4dfdf167.js.map